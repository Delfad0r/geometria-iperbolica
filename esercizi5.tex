\section*{Esercizi del 16 maggio}
\subsection*{Esercizio 5.1}
Ricordiamo che il gruppo di Coxeter $\Gamma$ di $P$ ammette la presentazione
\[
\Gamma=\left\langle g_1,\ldots,g_s\;\left\lvert\;\begin{matrix*}[l] g_i^2\text{ per $i\in\{1,\ldots,s\}$},\\(g_ig_j)^2\text{ se $F_i$ e $F_j$ si intersecano}\end{matrix*}\right.\right\rangle<\Isom(\HH^n),
\]
dove $F_1,\ldots,F_s$ sono le $(n-1)$-facce di $P$, e per ogni $i\in{1,\ldots,s}$ l'elemento $g_i\in\Gamma$ è la riflessione rispetto al piano su cui giace $F_i$. Ogni colorazione
\[
\map{c}{\{F_1,\ldots,F_s\}}{V}
\]
induce un morfismo di gruppi
\Map{\varphi}{\Gamma}{V}{g_i}{c(F_i).}
Se la colorazione $c$ è propria, allora $\ker\varphi<\Gamma$ è un gruppo di isometrie di $\HH^n$ che agisce in modo libero e propriamente discontinuo.

\begin{enumerate}[\textbf{\arabic{enumi}.}]
\setcounter{enumi}{-1}
\item Ovviamente \textbf{la varietà $M=\HH^n/\ker\varphi$ è orientabile se e solo se tutti gli elementi di $\ker\varphi$ sono isometrie che preservano l'orientazione}.
\item Ogni elemento $g$ di $\Gamma$ può scriversi (in modo non unico) come prodotto $g=g_{i_1}\cdots g_{i_t}$; osserviamo che $g$ preserva l'orientazione se e solo se $t$ è pari, poiché ogni $g_i$ inverte l'orientazione. Di conseguenza, \textbf{$M$ è orientabile se e solo se per ogni scelta di $i_1,\ldots,i_t\in\{1,\ldots,s\}$ con $t$ dispari vale $\varphi(g_{i_1}\cdots g_{i_t})\neq0$}.
\item Osserviamo ora che, essendo $V$ un $\FF_2$-spazio vettoriale, per ogni $g,h\in\Gamma$ vale $\varphi(gh)=\varphi(hg)$.
Poiché i $g_i$ hanno ordine $2$, possiamo riformulare la condizione come segue: \textbf{$M$ è orientabile se e solo se per ogni $T\subs\{1,\ldots,s\}$ di cardinalità dispari vale}
\[
\sum_{t\in T}c(F_t)\neq 0.
\]
Questa osservazione fornisce un algoritmo esponenziale in $s$ per stabilire se la varietà $M$ ottenuta dalla colorazione è orientabile (basta controllare tutti i sottoinsiemi di cardinalità dispari di $\{1,\ldots,s\}$).
\item Possiamo riformulare ulteriormente il criterio, in modo da ottenere un algoritmo polinomiale in $s$. Notiamo infatti che la condizione che abbiamo trovato è equivalente a richiedere che ogniqualvolta una combinazione lineare dei $c(F_i)$ a coefficienti in $\FF_2$ è nulla, il numero di coefficienti non nulli sia pari. Concludiamo pertanto che \textbf{$M$ è orientabile se e solo se il seguente sistema lineare a coefficienti in $\FF_2$ non ha soluzioni}.
\begingroup
\tikzset{
every outer matrix/.style={inner xsep=0pt,inner ysep=2pt},
every matrix/.style={matrix of math nodes,left delimiter=(,right delimiter=),text height=1.5ex,text depth=.25ex,nodes={inner xsep=0pt}},
col/.style={inner xsep=3pt,opacity=.5,text opacity=1,draw=blue!70!green,line width=1.5pt,rectangle,rounded corners=1pt,minimum height=3cm,minimum width=1.1cm},
vector/.style={row sep=10pt}
}
\[
\begin{tikzpicture}[baseline={(0,-.5ex)}]
\matrix[column sep=10pt,row sep=5pt,row 1/.style={nodes={col}},row 1 column 3/.style={nodes={draw=none}}] {
c(F_1)&c(F_2)&\cdots&c(F_s)\\
1&1&\cdots&1\\
};
\end{tikzpicture}
\cdot
\begin{tikzpicture}[baseline={(0,-.5ex)}]
\matrix[vector] {x_1\\x_2\\\vdots\\x_s\\};
\end{tikzpicture}
=
\begin{tikzpicture}[baseline={(0,-.5ex)}]
\matrix[row sep=5pt,row 1/.style={nodes={col}}] {0\\1\\};
\end{tikzpicture}.
\]
\endgroup
\end{enumerate}

\subsection*{Esercizio 5.2}
Ricordiamo che una \defterm{colorazione} di $P_n$ a valori in un $\FF_2$-spazio vettoriale $V$ è il dato di un vettore $c(F)\in V$ per ogni $1$-faccia (ossia spigolo) $F$ di $P_n$. La colorazione è \defterm{propria} se per ogni vertice $v$ di $P_n$  vale la seguente condizione: i due vettori $c(F)$, $c(F')$ sono linearmente indipendenti, dove $F$ e $F'$ sono i due spigoli adiacenti a $v$.

È evidente che non esiste alcuna colorazione propria di $P_n$ a valori in $\FF_2$, poiché comunque presi due elementi di $\FF_2$ essi sono linearmente dipendenti. Esibiamo ora esplicitamente una colorazione di $P_n$ a valori in $\FF_2\dirsum\FF_2$. Siano $F_1,F_2,\ldots,F_n$ gli spigoli di $P_n$, numerati in senso antiorario a partire da $F_1$, scelto arbitrariamente. Definiamo la colorazione come segue:
\[
c(F_i)=\begin{cases*}
1\choose1&se $i=1$,\\
1\choose0&se $i>1$ e $i$ pari,\\
0\choose1&se $i>1$ e $i$ dispari.
\end{cases*}
\]
A seconda della parità di $n$, possono verificarsi i due casi illustrati in figura.

\begin{center}
\begin{tikzpicture}[
evaluate={function col(\i){if \i == 1 then {return "purple";} else {if mod(\i, 2) == 0 then {return "blue!50!green";} else {return "orange!60!red";};};};},
pics/right angled polygon/.style 2 args={
code={
\tikzmath{\n=#1;\r=#2;\l=sin(180/\n)/sin(135+180/\n)*\r;}
\begin{scope}
\clip (360/\n:\r pt) \foreach \i [evaluate=\i as \a using \i/\n*360] in {1,...,\n} {-- (\a:\r pt) arc (-135+\a:{360/\n-225+\a}:\l pt)};
\fill circle(2*\r pt);
\foreach \i [evaluate=\i as \a using \i/\n*360] in {1,...,\n} {
\begin{scope}
\clip (0,0) -- (\a:\r pt) -- (\a+360/\n:\r pt) -- cycle;
\tikzmath{\col=col(\i);}
\fill[\col!70!black,opacity=.8,path fading=fuzzy ring 15 percent] ($(\a:\r pt)+(45+\a:\l pt)$) circle ({\l pt*1.075});
\end{scope}
}
\end{scope}
\node[gray,opacity=1] {$n=\n$};
\foreach \i in {1,...,\n} {
\tikzmath{\col = col(\i);}
\draw[rotate={\i/\n*360},\col,ultra thick] (0:\r pt) arc (-135:{360/\n-225}:\l pt) node[midway,label={[label distance=.4cm,opacity=1,anchor=center]{(\i+.5)/\n*360}:$F_{\i}$}] {};
}
\foreach \i in {1,...,\n} {\fill[black,opacity=1] (\i/\n*360:\r pt) circle (1pt);}
}}]
\pic[fill=gray,fill opacity=.1] {right angled polygon={6}{2 cm}};
\pic[fill=gray,fill opacity=.1] at (6,0) {right angled polygon={7}{2cm}};
\matrix[below right,legend/.style={draw=#1,very thick,shade,left color=#1!20,right color=#1!80}] at ($(current bounding box.north east)+(1.5,0)$) {
\tikzmath{\col = col(1);}\node[legend=\col,label={[\col]right:$1\choose 1$}] {};\\
\tikzmath{\col = col(2);}\node[legend=\col,label={[\col]right:$1\choose 0$}] {};\\
\tikzmath{\col = col(3);}\node[legend=\col,label={[\col]right:$0\choose 1$}] {};\\
};
\end{tikzpicture}
\end{center}
In ogni caso, poiché due elementi distinti non nulli di $\FF_2\dirsum\FF_2$ sono sempre linearmente indipendenti, è evidente che la colorazione così definita risulta essere propria.

\subsection*{Esercizio 5.4}
\paragraph*{Definizione di $X$.} Sia
\[
X=\{A\in\SL(n,\RR):\text{$A$ è simmetrica e definita positiva}\}.
\]
Definiamo l'azione
\Map{\alpha}{G\times X}{X}{(M,A)}{MAM^t.}
Per un ben noto fatto di algebra lineare, per ogni $A\in X$ esiste una matrice $M\in\GL(n,\RR)$ tale che $MM^t=A$ (infatti $A$ e $\Id$ hanno la stessa segnatura). A meno di sostituire $M$ con
\[
M\cdot\begin{pmatrix}-1&&&\\&1&&\\&&\ddots&\\&&&1\end{pmatrix}
\]
possiamo supporre che $\det M>0$. Osserviamo poi che
\[
1=\det A=\det(MM^t)=(\det M)^2,
\]
da cui $\det M=1$. Abbiamo dunque mostrato che per ogni $A\in X$ esiste $M\in G$ tale che $\alpha(M,\Id)=A$, da cui segue che l'azione è transitiva. Lo stabilizzatore di $\Id\in X$ è l'insieme dalle matrici $M\in G$ tali che $MM^t=\Id$, ossia precisamente $SO(n,\RR)=K$.

Come accade sempre per un'azione transitiva, abbiamo la seguente corrispondenza biunivoca
\begin{equation*}
\begin{array}{@{}c@{{}\mathrel{}}c@{{}\mathrel{}}c}
X&\longleftrightarrow&G/K\\
\alpha(M,\Id)&\longmapsfrom& M\cdot K,
\end{array}
\end{equation*}
che permette di identificare $X$ con $G/K$.

\paragraph*{Definizione della metrica Riemanniana.} Sappiamo che il tangente a $X$ nel punto $\Id$ è dato da
\[
T_{\Id}X=\{B\in\Mat_{n\times n}(\RR):B=B^t,\tr B=0\}.
\]
Il gruppo $G$ agisce su $TX$ mediante $\alpha$ come segue: se $M\in G$, $A\in X$, $B\in T_AX$ allora
\[
M\cdot B=MBM^t\in T_{\alpha(M,A)}X.
\]

Definiamo il prodotto scalare
\Map{\langle-,-\rangle_{\Id}}{T_{\Id}X\times T_{\Id}X}{\RR}{(B,C)}{\tr(BC).}
È evidente che si tratta di un'applicazione bilineare simmetrica; è inoltre un prodotto scalare definito positivo poiché, se $B$ è una matrice simmetrica, allora $\tr(B^2)$ è la somma dei quadrati degli autovalori di $B$, strettamente positiva a meno che $B=0$.

Osserviamo che questo prodotto scalare è $K$-invariante: per ogni $B,C\in T_{\Id}X$, $M\in K$ vale infatti
\[
\left\langle MBM^t,MCM^t\right\rangle_{\Id}=\tr(MBCM^t)=\tr(MM^tBC)=\tr(BC)=\left\langle B,C\right\rangle_{\Id}.
\]
Possiamo allora definire una metrica Riemanniana $G$-invariante su $X$ come segue: per ogni $A\in X$ definiamo
\Map{\langle-,-\rangle_A}{T_AX\times T_AX}{\RR}{B,C}{\left\langle MBM^t,MCM^t\right\rangle_{\Id},}
dove $M\in G$ è una matrice tale che $\alpha(M,A)=\Id$. Svolgiamo le verifiche necessarie.
\begin{itemize}
\item L'applicazione è ben definita. Infatti, se due matrici $M,N\in G$ soddisfano $\alpha(M,A)=\alpha(N,A)=\Id$, allora $NM^{-1}$ è un elemento dello stabilizzatore di $\Id$, ossia è un elemento di $K$. Ma allora, poiché $\langle-,-\rangle_{\Id}$ è $K$-invariante, abbiamo
\begin{align*}
\left\langle MBM^t,MCM^t\right\rangle_{\Id}&=\left\langle NM^{-1}MBM^t(M^t)^{-1}N^t,NM^{-1}MCM^t(M^t)^{-1}N^t\right\rangle_{\Id}\\
&=\left\langle NBN^t,NCN^t\right\rangle_{\Id}.
\end{align*}
\item Poiché $\langle-,-\rangle_{\Id}$ è un prodotto scalare definito positivo, è evidente che lo stesso vale per $\langle-,-\rangle_A$.
\item La metrica Riemanniana così definita è $G$-invariante. Siano infatti $A\in X$, $M\in G$, $B,C\in T_AX$; sia $N\in G$ tale che $\alpha(N,A)=\Id$. Allora $NM^{-1}$ è tale che $\alpha(NM^{-1},\alpha(M,A))=\Id$, dunque
\begin{align*}
\left\langle MBM^t,MCM^t\right\rangle_{\alpha(M,A)}&=\left\langle (NM^{-1})MBM^t(NM^{-1})^t,(NM^{-1})MCM^t(NM^{-1})^t\right\rangle_{\Id}\\
&=\left\langle NBN^t,NCN^t\right\rangle_{\Id}\\
&=\langle B,C\rangle_A
\end{align*}
\end{itemize}

\paragraph{Definizione dell'inversione.} Definiamo l'inversione nel punto $\Id\in X$ come
\Map{\tau}{X}{X}{A}{A^{-1}.}
È ovviamente un diffeomorfismo di ordine $2$. Calcoliamo il differenziale di $\tau$ in ogni punto: se $A\in X$ e $B\in T_AB$, allora
\begin{align*}
\tau(A+tB)&=(A+tB)^{-1}\\
&=(\Id+tA^{-1}B)^{-1}A^{-1}\\
&=A^{-1}-tA^{-1}BA^{-1}+o(t),
\end{align*}
da cui
\[
\d{\tau}{A}(B)=-A^{-1}BA^{-1}\in T_{A^{-1}}X.
\]
Questo ci dice immediatamente che $\d{\tau}{\Id}=-\id_{T_{\Id}X}$. Possiamo inoltre verificare che $\tau$ è un'isometria. Siano $M\in G$, $A\in X$, $B,C\in T_AX$. Sia $M\in G$ una matrice tale che $\alpha(M,A)=\Id$. Allora $(M^{-1})^t$ è tale che $\alpha((M^{-1})^t,A^{-1})=\Id$, dunque
\begin{align*}
\left\langle\d{\tau}{A}(B),\d{\tau}{A}(C)\right\rangle_{A^{-1}}&=\left\langle(M^{-1})^tA^{-1}BA^{-1}M^{-1},(M^{-1})^tA^{-1}CA^{-1}M^{-1}\right\rangle_{\Id}\\
&=\left\langle(AM^t)^{-1}B(MA)^{-1},(AM^t)^{-1}C(MA)^{-1}\right\rangle_{\Id}\\
&\sidenote{{}={}}{$MAM^t=\Id$}\left\langle MBM^t,MCM^t\right\rangle_{\Id}\\
&=\langle B,C\rangle_A.
\end{align*}

Evidentemente $\Id\in X$ è un punto fisso per $\tau$; mostriamo che è anche isolato. Fissiamo una norma submoltiplicativa $\norm{-}$ sullo spazio di matrici $\Mat_{n\times n}(\RR)$. Sia $A\in X$ diverso dall'identità, e poniamo $B=A-\Id\neq 0$; mostriamo che se $\norm{B}<2$ allora $\tau(A)\neq A$. Se per assurdo $\tau(A)=A$, allora $(\Id+B)^2=\Id$, da cui immediatamente $-2B=B^2$. Ma allora varrebbe
\[
2\norm{B}=\norm{B^2}\le\norm{B}^2,
\]
contro l'ipotesi. Segue che $\Id$ è un punto fisso isolato di $\tau$.

Mostriamo infine che $\tau$ è compatibile con l'azione di $G$ e $\sigma$: siano $A\in X$, $M\in G$. Allora
\[
\tau(\alpha(M,A))=(MAM^t)^{-1}=(M^t)^{-1}A^{-1}M^{-1}=\alpha((M^t)^{-1},A)=\alpha(\sigma(M),A).
\]